{"ast":null,"code":"var _jsxFileName = \"D:\\\\webd\\\\working\\\\EmployeeCourse\\\\springboot-reactjs-jwt-authentication-main\\\\react-redux-jwt\\\\src\\\\components\\\\AvailableCourses\\\\index.js\";\nimport React, { Component } from \"react\";\nimport { Redirect } from 'react-router-dom';\nimport { connect } from \"react-redux\";\n\n// import AllItems from '../AllItems'\nimport UserService from '../../services/auth.service';\nclass Training extends Component {\n  constructor(props) {\n    super(props);\n    this.openInNewTab = content => {\n      window.open(content, '_blank', 'noopener,noreferrer');\n    };\n    this.saveOrUpdateProduct = (courseId, empId) => {\n      let product = {\n        empId,\n        courseId\n      };\n      // console.log('product => ' + JSON.stringify(product));\n\n      UserService.addProduct(product).then(res => {\n        console.log(product);\n      });\n    };\n    this.state = {\n      id: '',\n      products: []\n    };\n  }\n  componentDidMount() {\n    const {\n      user: currentUser\n    } = this.props;\n    console.log(currentUser.id);\n    UserService.getAvailableCoursesForEmp(currentUser.id).then(response => {\n      this.setState({\n        products: response.data\n      });\n    });\n  }\n  render() {\n    const {\n      user: currentUser\n    } = this.props;\n    if (!currentUser) {\n      return /*#__PURE__*/React.createElement(Redirect, {\n        to: \"/login\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 48,\n          columnNumber: 14\n        }\n      });\n    }\n    const {\n      products\n    } = this.state;\n    return /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 54,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"h1\", {\n      align: \"center\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 55,\n        columnNumber: 17\n      }\n    }, \"Available Courses\"), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"courses\",\n      style: {\n        display: 'flex',\n        flexDirection: 'column'\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 58,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"row \",\n      style: {\n        display: 'flex',\n        flexDirection: 'row'\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 59,\n        columnNumber: 13\n      }\n    }, products.map(_ref => {\n      let {\n        courseId,\n        courseName,\n        content,\n        imageUrl,\n        instructor\n      } = _ref;\n      return /*#__PURE__*/React.createElement(\"div\", {\n        style: {\n          height: '300px',\n          margin: '1cm',\n          width: '300px'\n        },\n        className: \"card col-lg-4 col-xl-3 col-md-6  mb-3\",\n        key: courseId,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 65,\n          columnNumber: 33\n        }\n      }, /*#__PURE__*/React.createElement(\"img\", {\n        onClick: () => this.openInNewTab(content),\n        style: {\n          height: '4cm',\n          width: '100%',\n          padding: '0.2cm'\n        },\n        src: imageUrl,\n        alt: \"Sorry! Image is not available at this time\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 66,\n          columnNumber: 37\n        }\n      }), /*#__PURE__*/React.createElement(\"hr\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 67,\n          columnNumber: 37\n        }\n      }), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"content\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 68,\n          columnNumber: 37\n        }\n      }, /*#__PURE__*/React.createElement(\"h5\", {\n        align: \"center\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 69,\n          columnNumber: 41\n        }\n      }, courseName), /*#__PURE__*/React.createElement(\"p\", {\n        align: \"center\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 70,\n          columnNumber: 41\n        }\n      }, instructor)), /*#__PURE__*/React.createElement(\"div\", {\n        align: \"center\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 72,\n          columnNumber: 37\n        }\n      }, /*#__PURE__*/React.createElement(\"button\", {\n        className: \"btn btn-primary\",\n        onClick: () => this.saveOrUpdateProduct(currentUser.id, courseId),\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 72,\n          columnNumber: 57\n        }\n      }, \"Enroll Now\")));\n    }))));\n  }\n}\nfunction mapStateToProps(state) {\n  const {\n    user\n  } = state.auth;\n  return {\n    user\n  };\n}\nexport default connect(mapStateToProps)(Training);","map":{"version":3,"names":["React","Component","Redirect","connect","UserService","Training","constructor","props","openInNewTab","content","window","open","saveOrUpdateProduct","courseId","empId","product","addProduct","then","res","console","log","state","id","products","componentDidMount","user","currentUser","getAvailableCoursesForEmp","response","setState","data","render","display","flexDirection","map","courseName","imageUrl","instructor","height","margin","width","padding","mapStateToProps","auth"],"sources":["D:/webd/working/EmployeeCourse/springboot-reactjs-jwt-authentication-main/react-redux-jwt/src/components/AvailableCourses/index.js"],"sourcesContent":["import React, { Component } from \"react\";\nimport { Redirect } from 'react-router-dom';\nimport { connect } from \"react-redux\";\n\n// import AllItems from '../AllItems'\nimport UserService from '../../services/auth.service';\n\n\n\nclass Training extends Component {\n    \n    constructor(props){\n        \n        super(props)\n        this.state = {\n            id:'',\n            products:[]\n        }\n    }\n    \n    componentDidMount(){\n        const { user: currentUser } = this.props;\n        console.log(currentUser.id);\n        UserService.getAvailableCoursesForEmp(currentUser.id).then((response) => {\n            this.setState({ products: response.data})\n        });\n\n    }\n    openInNewTab=(content)=>{\n        window.open(content, '_blank', 'noopener,noreferrer');\n      };\n      saveOrUpdateProduct = (courseId,empId) => {\n        \n        let product = {empId,courseId,};\n        // console.log('product => ' + JSON.stringify(product));\n\n    \n            UserService.addProduct(product).then(res =>{\n                console.log(product);\n            });\n       \n    }\n      \n  render (){\n    const { user: currentUser } = this.props;\n\n    if (!currentUser) {\n      return <Redirect to=\"/login\" />;\n    }\n    const { products} = this.state\n    \n\n  return (\n            <div>\n                <h1 align=\"center\">Available Courses</h1>\n            \n\n          <div className=\"courses\"  style={{display:'flex',flexDirection:'column'}}>\n            <div className=\"row \"  style={{display:'flex',flexDirection:'row'}}>\n                    {\n                        products.map(({courseId,courseName,content,imageUrl,instructor}) => {\n                          \n                           \n                            return (\n                                <div    style={{height:'300px',margin:'1cm',width:'300px'}}  className=\"card col-lg-4 col-xl-3 col-md-6  mb-3\" key={courseId}>\n                                    <img  onClick={() => this.openInNewTab(content)} style={{height:'4cm',width:'100%',padding:'0.2cm'}}                      src={imageUrl}  alt=\"Sorry! Image is not available at this time\"/>\n                                    <hr/>\n                                    <div className=\"content\">\n                                        <h5 align=\"center\">{ courseName }</h5>\n                                        <p align=\"center\">{ instructor }</p>\n                                    </div>\n                                    <div align=\"center\"><button  className=\"btn btn-primary\" onClick={() => this.saveOrUpdateProduct(currentUser.id,courseId)}>\n                                        Enroll Now\n                                        </button>\n                                    </div>\n                                </div>\n\n                            );\n                        })\n                    }\n                </div>\n                </div>\n\n            </div>\n         )\n        }\n}\nfunction mapStateToProps(state) {\n    const { user } = state.auth;\n    return {\n      user,\n    };\n  }\n  \n  export default connect(mapStateToProps)(Training);"],"mappings":"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"},"metadata":{},"sourceType":"module"}